<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Buffonomics · Congress Member Profile</title>
  <link rel="stylesheet" href="/static/css/congress.css" />
</head>
<body>
  <header class="shell-header">
    <a class="brand brand--link" href="/dashboard" aria-label="Back to dashboard">
      <span class="brand__text">Buffonomics</span>
      <span class="brand__caret">▌</span>
    </a>

    <div class="shell-meta">
      <div class="search-container">
        <form id="congressHeaderSearch" class="shell-search" role="search" aria-label="Search congress members">
          <label class="sr-only" for="congressHeaderSearchInput">Search congress members</label>
          <input id="congressHeaderSearchInput" name="query" type="search" placeholder="Search congress members" autocomplete="off" />
          <button class="ghost-btn" type="submit">Search</button>
        </form>
        <div class="search-dropdown" data-search-dropdown>
          <div class="search-dropdown__body">
            <p class="search-status" data-search-status role="status" aria-live="polite">Start typing a name…</p>
            <ul class="search-results" data-search-results></ul>
          </div>
        </div>
      </div>
      <button class="ghost-btn" type="button">Settings</button>
      <a class="ghost-btn" href="/logout">Logout</a>
    </div>
  </header>

  <div class="shell">

    <main class="dashboard">
      <aside class="stack">
        <section class="stack-card profile" aria-live="polite">
          <p class="stack-card__eyebrow">Profile</p>
          <h2 class="stack-card__title">Trading Overview</h2>
          <div class="profile__identity">
            <p class="profile__name" id="congressName">—</p>
            <p class="profile__position" id="congressPosition">—</p>
            <p class="profile__party" id="congressParty">—</p>
            <button type="button" class="profile__follow">Follow Trading Activity</button>
          </div>

          <dl class="profile__stats">
            <div>
              <dt>Trade Volume</dt>
              <dd id="statTradeVolume">—</dd>
            </div>
            <div>
              <dt>Total Trades</dt>
              <dd id="statTotalTrades">—</dd>
            </div>
            <div>
              <dt>Last Traded</dt>
              <dd id="statLastTraded">—</dd>
            </div>
            <div>
              <dt>Current Member</dt>
              <dd id="statCurrentMember">—</dd>
            </div>
          </dl>
        </section>

      </aside>

      <section class="board">
        <header class="board__header">
          <div>
            <p class="board__eyebrow">Trades</p>
            <h2 class="board__title">Transaction Ledger</h2>
          </div>
          <div class="board__totals">
            <p><span id="tradeVolumeTotal">—</span><small>Trade Volume</small></p>
            <p><span id="tradeCountTotal">—</span><small>Total Trades</small></p>
          </div>
        </header>

        <table class="trades__table">
          <thead>
            <tr>
              <th scope="col">Stock</th>
              <th scope="col">Transaction</th>
              <th scope="col">Filed</th>
              <th scope="col">Traded</th>
              <th scope="col">Range</th>
              <th scope="col">Amount</th>
              <th scope="col">Description</th>
              <th scope="col">Excess Return</th>
            </tr>
          </thead>
          <tbody id="tradesTableBody">
            <tr>
              <td colspan="8">Search for a Congress member to load trades…</td>
            </tr>
          </tbody>
        </table>
        <nav id="tradesPagination" class="pagination" aria-label="Trades pagination"></nav>
      </section>
    </main>

    <section class="debug">
      <header class="debug__header">
        <div>
          <p class="debug__eyebrow">API Inspector</p>
          <h3 class="debug__title">Raw Response</h3>
        </div>
        <p class="debug__hint">This shows the last payload returned by the API for comparison.</p>
      </header>
      <pre id="rawApiPayload" class="debug__pre" aria-live="polite">No data loaded yet.</pre>
    </section>
  </div>

  <script src="/scripts/congress.js" defer></script>
</body>
</html>
