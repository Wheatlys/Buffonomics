<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>Buffonomics · Dashboard</title>

  <link rel="stylesheet" href="/static/css/dashboard.css" />
</head>
<body>
  <div id="threadsBackground" class="threads-bg" aria-hidden="true"
       data-amplitude="2" data-distance="0.9" data-interactive="false" data-disable="true"></div>
  <div class="noise" aria-hidden="true"></div>

  <div class="welcome-overlay" data-welcome-overlay hidden>
    <div class="welcome-copy">
      <p class="welcome-kicker">Welcome to</p>
      <h1 class="welcome-headline">
        <span data-text-type></span><span class="text-type__cursor" data-text-cursor>|</span>
      </h1>
      <p class="welcome-sub">Loading your dashboard…</p>
    </div>
  </div>

  <header class="shell-header">
    <div class="brand-home">
      <a class="brand brand--link" href="/dashboard" aria-label="Back to dashboard">
        <span class="brand__text">Buffonomics</span>
        <span class="brand__caret">▌</span>
      </a>
      <a class="home-link" href="/dashboard">Home</a>
    </div>

    <div class="shell-meta">
      <div class="search-container">
        <form id="memberSearch" class="shell-search" role="search" aria-label="Search congress members">
          <label class="sr-only" for="memberSearchInput">Search congress members</label>
          <input
            id="memberSearchInput"
            name="query"
            type="search"
            placeholder="Search congress members"
            autocomplete="off"
          />
          <button class="ghost-btn" type="submit">Search</button>
        </form>
        <div class="search-dropdown" data-search-dropdown>
          <div class="search-dropdown__body">
            <p class="search-status" data-search-status role="status" aria-live="polite">
              Start typing a name…
            </p>
            <ul class="search-results" data-search-results></ul>
          </div>
        </div>
      </div>

      <!-- ✅ Settings button restored, now actually links to /settings -->
      <button
        class="ghost-btn"
        type="button"
        onclick="window.location.href='/settings'">
        Settings
      </button>

      <button id="dashboardLogout" class="ghost-btn" type="button">Logout</button>
    </div>
  </header>

  <main class="workspace" role="main">
    <aside class="workspace__sidebar">
      <section class="panel stocks-card">
        <header class="stocks-header">
          <div>
            <p class="eyebrow">Following</p>
            <h2>Your List</h2>
          </div>
        </header>

        <div class="stocks-status" role="status">Loading who you follow…</div>
        <ul class="stocks-list" aria-live="polite"></ul>
      </section>
    </aside>

    <section class="workspace__content">
      <section class="panel congress-panel" aria-label="Congressional trading highlights">
        <header class="panel__header">
          <div>
            <p class="eyebrow">Congressional Trades</p>
            <h2 class="panel__title">Congress Member Spotlights</h2>
          </div>
          <button class="ghost-btn" type="button" data-congress-refresh>Refresh</button>
        </header>
        <p class="congress-status" data-congress-status role="status">Fetching latest highlights…</p>
        <div class="congress-grid-wrapper" data-congress-grid-wrapper>
          <div class="congress-grid" data-congress-grid aria-live="polite"></div>
        </div>
      </section>
    </section>
  </main>

  <script type="module" src="/scripts/dashboard-bg.js"></script>
  <script src="/scripts/welcome-modal.js" defer></script>
  <script src="/scripts/dashboard.js" defer></script>
</body>
</html>
