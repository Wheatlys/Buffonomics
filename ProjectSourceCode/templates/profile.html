<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Buffonomics · Profile</title>

  <link rel="stylesheet" href="../static/css/login.css" />
  <link rel="stylesheet" href="../static/css/homepage.css" />
  <link rel="stylesheet" href="../static/css/profile.css" />
</head>

<body>
  <div class="bg" aria-hidden="true">
    <canvas id="ledBackdrop" class="led-canvas"></canvas>
    <div class="led-scan"></div>
  </div>

  <header class="topbar">
    <div class="topbar__inner">
      <div class="brand">
        <span class="brand__text">Buffonomics</span><span class="brand__caret">▌</span>
      </div>

      <nav class="navlinks">
        <a class="muted-link" href="./homepage.html">Home</a>
        <a class="muted-link" href="./settings.html">Settings</a>
      </nav>
    </div>
  </header>

  <main class="profile-container">
    <h1 class="profile-title">Your Profile</h1>

    <!-- PROFILE CARD -->
    <section class="profile-card">
      <div class="profile-avatar-container">
        <img 
          id="profileImage" 
          class="profile-avatar-img" 
          src="../static/img/default-avatar.png" 
          alt="Profile Picture" 
        />

        <!-- Styled label triggers hidden input -->
        <label for="avatarUpload" class="avatar-upload-btn">Change Picture</label>
        <input type="file" id="avatarUpload" accept="image/*" hidden />
      </div>

      <div class="profile-info">
        <h2 class="profile-name" id="profileName">Buffonomics User</h2>
        <p class="profile-handle" id="profileHandle">@you</p>

        <!-- Email from DB -->
        <p class="profile-email">
          Email: <span id="profileEmail"></span>
        </p>
      </div>
    </section>
    

    <!-- EMAIL NOTIFICATIONS -->
    <section class="settings-section">
      <h3>Email Notifications</h3>
      <label class="toggle">
        <input type="checkbox" id="emailToggle">
        <span class="slider"></span>
      </label>
    </section>
      <!-- POLITICIANS FOLLOWED -->
    <section id="politiciansSection" class="settings-section politicians-section">
      <div>
        <h3>Politicians Followed</h3>
        <p class="muted-small">Scroll to view the people you follow</p>
      </div>

      <div class="politicians-wrapper">
        <ul id="politiciansList" class="politicians-list" aria-live="polite">
          <!-- JS will render list items here -->
        </ul>

        <div id="politiciansEmpty" class="politicians-empty" hidden>
          You aren't following anyone yet.
        </div>
      </div>
    </section>

    <!-- SAVE BUTTON (optional backend later) -->
    <button id="saveProfileBtn" class="btn save-btn">Save Changes</button>
  </main>

  <script src="../scripts/profile.js" defer></script>
  <script src="../scripts/homepage.js" defer></script>
</body>
</html>
